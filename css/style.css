@import url('https://fonts.googleapis.com/css2?family=Black+Han+Sans&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Gowun+Batang:wght@400;700&family=Inter:wght@400;500;600;700&family=Noto+Sans+KR:wght@300;400;500;700&display=swap');

:root {
    /* Instagram-like Minimal Palette -> Emotional Clean Palette */
    --primary: #262626;
    --primary-light: #525252;
    --accent: #5D9CEC;
    /* Soft Blue */
    --secondary: #FF6B6B;
    /* Soft Red */

    /* Emotional Gradients */
    --bg-gradient-safe: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
    /* Clouds */
    --bg-gradient-safe-accent: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%);
    /* Airy Blue */
    --bg-gradient-danger-accent: linear-gradient(135deg, #ff9a9e 0%, #fecfef 99%, #fecfef 100%);
    /* Soft Warning */

    --success: #5D9CEC;
    --warning: #FFCE54;
    --danger: #FF6B6B;

    /* Aliases for Status logic */
    --status-safe: #5D9CEC;
    /* Blue/Success */
    --status-warning: #FFCE54;
    /* Yellow */
    --status-danger: #FF6B6B;
    /* Red */

    --bg-main: #fdfbfb;
    /* Almost white, warm */
    --bg-secondary: #f4f6f8;

    --text-main: #2d3436;
    --text-sub: #636e72;

    --font-main: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    --font-display: 'Inter', sans-serif;
    --font-brand: 'Gowun Batang', serif;
    /* Emotional Serif for Headlines */

    /* Emotional Shadows (Colored & Soft) */
    --shadow-soft: 0 10px 40px -10px rgba(0, 0, 0, 0.05);
    --shadow-glass: 0 8px 32px 0 rgba(31, 38, 135, 0.07);

    --border-light: 1px solid rgba(0, 0, 0, 0.05);
    --border-strong: 1px solid rgba(0, 0, 0, 0.1);
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    -webkit-tap-highlight-color: transparent;
}

h1,
h2,
h3,
h4,
h5,
h6 {
    font-family: var(--font-brand);
    font-weight: 700;
    letter-spacing: -0.02em;
}

body {
    background: #fafafa;
    /* Light grey background for desktop view */
    color: var(--text-main);
    font-family: var(--font-main);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    overflow: hidden;
}

/* Remove ambient background animation for clean look */
body::before,
body::after {
    display: none;
}

#app-container {
    width: 100%;
    max-width: 450px;
    /* Mobile width */
    height: 100vh;
    max-height: 900px;
    background: var(--bg-main);
    position: relative;
    overflow: hidden;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.05);
    border: 1px solid #dbdbdb;
}

main {
    flex: 1;
    display: flex;
    flex-direction: column;
    width: 100%;
    position: relative;
    overflow: hidden;
    /* Space for the absolute header */
}

/* Utilities */
.view {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease-in-out;
    /* Simpler transition */
    background: var(--bg-main);
    z-index: 0;
    padding: 16px;
    /* Slightly reduced padding */
}

.view.active {
    opacity: 1;
    pointer-events: all;
    z-index: 10;
}

.btn-primary {
    background: var(--accent);
    /* Instagram Blue */
    color: white;
    border: none;
    padding: 14px 24px;
    border-radius: 8px;
    /* Less rounded */
    font-size: 0.95rem;
    font-weight: 600;
    cursor: pointer;
    box-shadow: none;
    transition: opacity 0.2s ease;
    width: 100%;
    margin-top: 20px;
}

.btn-primary:active {
    opacity: 0.7;
    transform: none;
    box-shadow: none;
}

/* Management View - Full Width Scroll */
#view-management {
    padding: 16px 0 !important;
    width: 100vw;
    /* Force viewport width */
    max-width: 100%;
}

/* Add padding back to internal elements except scroll container */
#view-management .app-header {
    padding: 20px 24px 0 24px;
    /* Added top padding to lower text */
    width: 100%;
    box-sizing: border-box;
}

.management-main {
    padding: 0 !important;
    width: 100%;
    overflow-x: hidden;
    /* Prevent horizontal scroll on main, allow on grid */
}



.btn-secondary {
    background: transparent;
    border: 1px solid #dbdbdb;
    color: var(--text-main);
    padding: 12px 20px;
    border-radius: 8px;
    width: 100%;
    margin-top: 12px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.9rem;
    transition: background 0.2s;
}

.btn-secondary:active {
    background: #fafafa;
}

/* Splash */
#view-splash {
    justify-content: center;
    align-items: center;
    background: var(--bg-main);
}

.logo-container {
    text-align: center;
    margin-bottom: 50px;
}

.logo-icon {
    font-size: 4rem;
    color: var(--text-main);
    /* Solid black */
    margin-bottom: 24px;
}

.logo-container h1 {
    display: flex;
    justify-content: center;
    align-items: baseline;
    gap: 4px;
    margin-bottom: 8px;
    color: var(--text-main);
}

/* Re-using .brand-num and .brand-text from header for consistency, 
   but specific sizing for splash might be needed if header sizes are too small.
   Let's add specific overrides for splash if needed, but for now rely on shared classes 
   and maybe scale up.
*/
.logo-container .brand-num {
    font-size: 3.5rem;
    /* Larger for splash */
}

.logo-container .brand-text {
    font-size: 1.8rem;
    /* Larger for splash */
}

.logo-container p {
    color: var(--text-sub);
    font-weight: 400;
    font-size: 0.95rem;
}

.loader {
    width: 32px;
    height: 32px;
    border: 3px solid #f3f3f3;
    border-top-color: var(--text-sub);
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

/* Home */
.app-header {
    display: flex;
    justify-content: flex-start;
    /* Align left */
    align-items: center;
    padding: 20px 24px;
    background: white;
    color: var(--primary);
    position: relative;
    width: 100%;
    z-index: 100;
    box-shadow: none;
    border-bottom: none;
}

/* Center header for Management and Home View */
/* Center header for Home View (Shifted right) */
#view-home .app-header {
    justify-content: center;
    padding-left: 60px;
    background: transparent;
    /* Fix white rectangle issue */
}

/* Center header for Management View (Pure center) */
/* Center header for Management View (Pure center) */
#view-management .app-header {
    justify-content: center;
    background: transparent !important;
    /* Force fix for white block */
    box-shadow: none !important;
    border: none !important;
}

/* Management Header Font - Clean & Natural */
#view-management .app-header h2 {
    font-family: var(--font-brand);
    /* Emotional Serif (Gowun Batang) */
    font-weight: 700;
    font-size: 1.5rem;
    /* Standard title size */
    letter-spacing: -0.02em;
    color: var(--primary);
    margin: 0;
}

.app-header img {
    display: block;
    /* Ensure image alignment */
}

.brand-num {
    font-size: 2.2rem;
    font-style: italic;
    transform: skewX(-10deg);
    line-height: 1;
}

.brand-text {
    font-size: 1.2rem;
    font-weight: 400;
    line-height: 1;
    transform: none;
    /* Reset any skew */
    font-family: 'Noto Sans KR', sans-serif;
    /* Clean font for text */
    font-weight: 700;
}

/* Updated Back Button and Icons */
.btn-icon,
.btn-back {
    background: transparent;
    width: 40px;
    height: 40px;
    border-radius: 0;
    border: none;
    color: var(--primary);
    /* Black icons */
    font-size: 1.5rem;
    cursor: pointer;
    box-shadow: none;
    display: flex;
    justify-content: flex-start;
    /* Align left for back button */
    align-items: center;
    padding: 0;
    position: relative;
    z-index: 2;
    /* Ensure clickable above centered title */
}

.app-header .btn-icon,
.app-header .btn-back {
    color: var(--primary);
    /* Maintain black in header */
}

.btn-icon {
    justify-content: flex-end;
    /* Align right for action buttons */
}

.btn-icon:active,
.btn-back:active {
    opacity: 0.6;
    transform: none;
}

.nfc-scan-area {
    width: 100%;
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    position: relative;
    margin: 0;
    cursor: pointer;
    padding-bottom: 120px;
    /* Lift button higher */
}

.nfc-wrapper {
    position: relative;
    width: 220px;
    height: 220px;
    display: flex;
    justify-content: center;
    align-items: center;
}

.nfc-btn {
    width: 220px;
    height: 220px;
    border-radius: 50%;
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    /* Emotional Sky Blue Gradient */
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    color: white;
    /* White text */
    font-size: 5rem;
    box-shadow: 0 10px 40px rgba(79, 172, 254, 0.4);
    /* Emotional Glow */
    z-index: 2;
    transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
    position: relative;
    border: none;
}

.nfc-btn img {
    filter: brightness(0) invert(1);
    /* Make black icon white */
}

.nfc-btn::after {
    display: none;
}

.nfc-btn:active {
    transform: scale(0.95);
}

.nfc-btn span {
    font-size: 1.2rem;
    margin-top: 10px;
    font-weight: 700;
    letter-spacing: 1px;
    color: white;
    /* White text */
    text-transform: uppercase;
}

.wave {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: rgba(79, 172, 254, 0.3);
    /* Sky Blue Wave */
    border: none;
    opacity: 0;
    z-index: 1;
    animation: wave 2.5s infinite cubic-bezier(0, 0.55, 0.45, 1);
}

.wave:nth-child(2) {
    animation-delay: 0.6s;
    background: rgba(0, 242, 254, 0.3);
    /* Lighter Blue Wave */
}

.blink {
    margin-top: 30px;
    color: var(--text-sub);
    font-weight: 400;
    animation: blink 2s infinite ease-in-out;
}

/* Soft Backgrounds & Shadows */

#view-home,
#view-management {
    background: var(--bg-gradient-safe);
}

/* Update App Container to be transparent to show body/view bg */
#app-container {
    background: transparent;
    border: none;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
    /* Floating device feel on desktop */
}

/* Ensure no rogue backgrounds */
#view-management .app-header::before,
#view-management .app-header::after {
    display: none !important;
}

/* Management specific clear */
#view-management main {
    background: transparent !important;
}

.equipment-grid {
    background: transparent !important;
}

/* Ambient Background Shared */
#view-home::before,
#view-management::before {
    content: '';
    position: absolute;
    top: -10%;
    right: -10%;
    width: 300px;
    height: 300px;
    background: radial-gradient(circle, rgba(161, 196, 253, 0.2) 0%, rgba(255, 255, 255, 0) 70%);
    border-radius: 50%;
    z-index: 0;
    pointer-events: none;
    animation: float 8s infinite ease-in-out;
}

#view-home::after,
#view-management::after {
    content: '';
    position: absolute;
    bottom: 10%;
    left: -10%;
    width: 250px;
    height: 250px;
    background: radial-gradient(circle, rgba(255, 207, 239, 0.15) 0%, rgba(255, 255, 255, 0) 70%);
    border-radius: 50%;
    z-index: 0;
    pointer-events: none;
    animation: float 6s infinite ease-in-out reverse;
}

.status-card {
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(10px);
    border-radius: 20px;
    padding: 24px;
    display: flex;
    justify-content: space-around;
    margin-bottom: 24px;
    border: 1px solid rgba(255, 255, 255, 0.6);
    box-shadow: var(--shadow-soft);
}

.stat-item .label {
    font-size: 0.85rem;
    color: var(--text-sub);
    margin-bottom: 8px;
    font-weight: 500;
}

.stat-item .value {
    font-size: 1.6rem;
    font-weight: 700;
    font-family: var(--font-display);
    letter-spacing: -1px;
}

.value.success {
    color: var(--success);
}

.value.warning {
    color: var(--danger);
}

.history-list {
    display: flex;
    flex-direction: column;
    gap: 0;
    /* No gap, borders between items */
}

.history-item {
    background: white;
    padding: 16px 0;
    border-bottom: 1px solid #efefef;
    border-radius: 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: none;
    border-top: none;
    border-left: none;
    border-right: none;
    transition: background 0.2s;
}

.history-item:active {
    background: #fafafa;
    transform: none;
}

.history-item.danger {
    background: white;
    border-bottom: 1px solid #efefef;
}

.history-item.danger .status-text {
    /* Assuming there's text inside */
    color: var(--danger);
}

/* Bottom Floating Navigation (Glass Pill) */
.bottom-nav {
    display: flex;
    justify-content: space-around;
    align-items: center;
    background: rgba(255, 255, 255, 0.85);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    padding: 12px 24px;
    position: absolute;
    bottom: 30px;
    /* Floating from bottom */
    left: 50%;
    transform: translateX(-50%);
    width: auto;
    min-width: 200px;
    border-radius: 50px;
    /* Pill shape */
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    z-index: 1000;
    border: 1px solid rgba(255, 255, 255, 0.5);
    gap: 20px;
}

.bottom-nav button {
    background: none;
    border: none;
    color: var(--text-sub);
    font-size: 1.4rem;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    width: 44px;
    height: 44px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    opacity: 0.6;
    position: relative;
}

.bottom-nav button:active {
    transform: scale(0.9);
}

.bottom-nav button.active {
    color: white;
    background: var(--primary);
    /* Active circle */
    opacity: 1;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
}

.bottom-nav button.active::after {
    display: none;
    /* Remove any old indicators */
}

/* Measurement - Visualization */
#view-measurement {
    align-items: center;
    background: linear-gradient(135deg, #00c6ff, #0072ff);
    /* Vibrant Blue */
    display: flex;
    flex-direction: column;
    justify-content: center;
}



#waveformCanvas {
    width: 100%;
    height: 120px;
    margin-bottom: 20px;
    z-index: 10;
}

#fftCanvas {
    width: 100%;
    height: 120px;
    margin-bottom: 20px;
    z-index: 10;
}

.timer-container {
    text-align: center;
    margin-bottom: 30px;
    z-index: 10;
}

#measure-timer {
    font-size: 4rem;
    font-weight: 700;
    font-family: var(--font-display);
    color: white;
    line-height: 1;
}

.timer-label {
    font-size: 1rem;
    color: rgba(255, 255, 255, 0.7);
    margin-top: 5px;
}

/* Page Transition Animation */
.page-transition {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    background: linear-gradient(135deg, #0095f6, #0057ff);
    z-index: 9999;
    clip-path: circle(0% at 50% 50%);
    transition: clip-path 0.6s cubic-bezier(0.87, 0, 0.13, 1);
    pointer-events: none;
}

.page-transition.active {
    clip-path: circle(150% at 50% 50%);
}

/* Animations */
@keyframes spin {
    100% {
        transform: rotate(360deg);
    }
}

@keyframes wave {
    0% {
        transform: scale(1);
        opacity: 0.6;
    }

    100% {
        transform: scale(2);
        opacity: 0;
    }
}

@keyframes blink {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.3;
    }
}

@keyframes slideUp {
    from {
        transform: translateY(30px);
        opacity: 0;
    }

    to {
        transform: translateY(0);
        opacity: 1;
    }
}

@keyframes drift {
    0% {
        transform: translate(0, 0);
    }

    100% {
        transform: translate(30px, 30px);
    }
}

.bounce {
    animation: bounce 2s infinite ease-in-out;
    font-size: 3.5rem;
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 24px;
}

@keyframes bounce {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-15px);
    }
}

.measurement-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    flex: 1;
    justify-content: center;
}

/* Expand Animation Overlay */
/* Progress Ring */
.progress-ring {
    position: absolute;
    top: -10px;
    /* Adjust based on wrapper/ring size diff (240 - 220) / 2 = 10 */
    left: -10px;
    z-index: 100;
    transform: rotate(-90deg);
}

.progress-ring__circle {
    transition: stroke-dashoffset 0.1s linear;
    transform-origin: 50% 50%;
    stroke-linecap: round;
}

/* Onboarding */
#view-onboarding {
    justify-content: center;
    text-align: center;
}

.onboarding-step h2 {
    font-family: var(--font-display);
    font-size: 2.2rem;
    margin-bottom: 12px;
    color: var(--text-main);
}

.onboarding-step p {
    color: var(--text-sub);
    margin-bottom: 50px;
    font-size: 1.1rem;
    line-height: 1.5;
}

/* Result styles will be dynamic */
/* Result styles will be dynamic */
.result-card-large {
    text-align: center;
    padding: 40px 30px;
    background: white;
    border-radius: 12px;
    box-shadow: none;
    margin-bottom: 24px;
    animation: slideUp 0.6s cubic-bezier(0.2, 0.8, 0.2, 1);
    border: 1px solid #dbdbdb;
}

.result-card-large h3 {
    font-size: 1.5rem;
    margin-bottom: 10px;
    color: var(--text-main);
    font-weight: 600;
}

.score {
    font-size: 6rem;
    font-family: var(--font-display);
    font-weight: 700;
    margin: 10px 0 20px 0;
    line-height: 1;
    color: var(--text-main);
}

.result-details {
    text-align: left;
    background: #fafafa;
    padding: 24px;
    border-radius: 12px;
    margin-bottom: 24px;
    animation: slideUp 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
    box-shadow: none;
    border: 1px solid #dbdbdb;
}

/* Map Container */
.map-container {
    height: 280px;
    background: white;
    border-radius: 12px;
    margin-bottom: 24px;
    position: relative;
    overflow: hidden;
    box-shadow: none;
    border: 1px solid #dbdbdb;
}

.factory-map {
    width: 100%;
    height: 100%;
    background-image: radial-gradient(#cbd5e1 1.5px, transparent 1.5px);
    background-size: 24px 24px;
    background-color: #f8fafc;
}

.map-pin {
    position: absolute;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    border: 3px solid white;
    transition: transform 0.3s;
}

.map-pin:hover {
    transform: scale(1.2);
}

.trend-container {
    background: white;
    padding: 20px;
    border-radius: 12px;
    margin-bottom: 24px;
    box-shadow: none;
    border: 1px solid #dbdbdb;
}

/* Equipment Status Card Layout */
.management-main {
    background: white;
    /* Back to white as requested */
    padding: 24px 0 0 24px;
    height: 100%;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
}

/* Management Main Grid */
.equipment-grid {
    display: flex;
    overflow-x: auto;
    gap: 20px;
    /* Reduced gap back to normal */
    padding: 60px 0 40px 0 !important;
    /* Force 0 horizontal padding */
    /* Hide scrollbar */
    -ms-overflow-style: none;
    scrollbar-width: none;
    scroll-snap-type: x mandatory;
    width: 100%;
    box-sizing: border-box;
    /* Smooth scroll on iOS */
    -webkit-overflow-scrolling: touch;
    height: auto;
    /* Let it wrap content */
    flex-shrink: 0;
    /* Do not shrink */
    align-items: flex-start;
    /* Align cards to top */
    cursor: grab;
    /* Cursor for drag indication */
}

/* Spacer implementation using margins on content */
.equip-card:first-child {
    margin-left: calc((100vw - min(75vw, 320px)) / 2);
    /* Center the first card */
}

.equip-card:last-child {
    margin-right: calc((100vw - min(75vw, 320px)) / 2);
    /* Center the last card */
}

.equipment-grid:active {
    cursor: grabbing;
}

/* Hide scrollbar */
.equipment-grid::-webkit-scrollbar {
    display: none;
}

.equip-card {
    min-width: 0;
    width: 75vw;
    /* Based on typical mobile ratio for 3:4 card */
    max-width: 320px;
    aspect-ratio: 3/4;
    /* Strict 3:4 Ratio */
    height: auto;
    background: white;
    border-radius: 20px;
    overflow: hidden;
    /* emotional soft shadow: diffused, low opacity, slightly bluish ambient */
    box-shadow: 0 20px 60px -10px rgba(0, 0, 0, 0.07), 0 10px 20px -10px rgba(0, 0, 0, 0.04);
    display: flex;
    flex-direction: column;
    transition: transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 0.3s;
    cursor: pointer;
    border: 1px solid rgba(0, 0, 0, 0.03);
    /* Extremely subtle border */
    scroll-snap-align: center;
    position: relative;
    user-select: none;
    flex: 0 0 auto;
    /* Prevent shrinking */
}

.equip-card:active {
    transform: scale(0.98);
    box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.06);
    /* Pressed state */
}

.equip-img-wrapper {
    width: 100%;
    flex: 1;
    /* Fill remaining space */
    position: relative;
    background: white;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
}

.equip-img-wrapper img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: contain;
    padding: 24px;
    /* Slightly more whitespace for "floating" look */
}

.status-badge {
    position: absolute;
    top: 16px;
    left: 16px;
    padding: 6px 12px;
    border-radius: 8px;
    font-size: 0.85rem;
    font-weight: 700;
    color: white;
    z-index: 1;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}

.status-badge.safe {
    background: rgba(0, 200, 83, 1);
    /* Green */
}

.status-badge.warning {
    background: rgba(255, 152, 0, 1);
    /* Orange */
}

.equip-info {
    padding: 20px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    height: 25%;
}

.equip-info h3 {
    font-size: 1.4rem;
    font-weight: 800;
    margin-bottom: 8px;
    color: var(--text-main);
    white-space: normal;
    /* Allow wrap */
    line-height: 1.3;
}

.equip-info p {
    font-size: 1rem;
    color: var(--text-sub);
    margin: 0;
}

/* Report View Styles */
.report-main {
    background: #fafafa;
    padding: 24px;
    padding-bottom: 80px;
    /* Space for bottom nav if needed, though this covers it usually */
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.report-hero {
    background: white;
    border-radius: 20px;
    padding: 24px;
    text-align: center;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
    /* Soft shadow */
    display: flex;
    flex-direction: column;
    align-items: center;
}

.report-hero img {
    width: 60%;
    max-width: 180px;
    margin-bottom: 16px;
    filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.1));
}

.report-hero h2 {
    font-size: 1.4rem;
    color: var(--text-main);
    margin-bottom: 4px;
    font-weight: 700;
}

.report-hero p {
    color: var(--text-sub);
    font-size: 0.9rem;
    margin-bottom: 20px;
}

.health-score-container {
    display: flex;
    align-items: center;
    gap: 12px;
}

.health-score-badge {
    background: #0095f6;
    /* Default Blue */
    color: white;
    padding: 8px 16px;
    border-radius: 30px;
    font-weight: 800;
    font-size: 1.2rem;
    box-shadow: 0 4px 12px rgba(0, 149, 246, 0.3);
}

.health-score-label {
    font-size: 0.9rem;
    color: var(--text-main);
    font-weight: 600;
}

.section-title {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--text-main);
    margin-bottom: 12px;
    margin-top: 8px;
}

.metrics-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
}

.metric-card {
    background: white;
    padding: 16px;
    border-radius: 16px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.03);
    text-align: center;
}

.metric-value {
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--text-main);
    display: block;
    margin-bottom: 4px;
}

.metric-label {
    font-size: 0.8rem;
    color: var(--text-sub);
}

.component-list {
    background: white;
    border-radius: 20px;
    padding: 20px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.03);
}

.component-item {
    margin-bottom: 16px;
}

.component-item:last-child {
    margin-bottom: 0;
}

.comp-header {
    display: flex;
    justify-content: space-between;
    margin-bottom: 6px;
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--text-main);
}

.comp-status {
    font-size: 0.8rem;
    color: var(--text-sub);
}

.progress-bg {
    width: 100%;
    height: 8px;
    background: #f0f0f0;
    border-radius: 4px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: var(--accent);
    border-radius: 4px;
    width: 0%;
    /* Create animation later if needed */
}

/* Timeline */
.timeline {
    background: white;
    border-radius: 20px;
    padding: 20px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.03);
}

.timeline-item {
    display: flex;
    gap: 12px;
    margin-bottom: 20px;
    position: relative;
}

.timeline-item:last-child {
    margin-bottom: 0;
}

.timeline-marker {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: #dbdbdb;
    margin-top: 6px;
    position: relative;
    z-index: 2;
}

.timeline-marker.active {
    background: var(--accent);
    box-shadow: 0 0 0 4px rgba(0, 149, 246, 0.2);
}

.timeline-item::after {
    content: '';
    position: absolute;
    left: 5px;
    top: 18px;
    bottom: -20px;
    width: 2px;
    background: #f0f0f0;
    z-index: 1;
}

.timeline-item:last-child::after {
    display: none;
}

.timeline-content h4 {
    font-size: 0.95rem;
    font-weight: 600;
    margin-bottom: 2px;
}

.timeline-content span {
    font-size: 0.8rem;
    color: var(--text-sub);
}

/* Emotional Result Screen Design */
#view-result {
    padding: 0;
    /* Remove default padding for full screen */
}

/* Hide default header in Result View */
#view-result .result-header {
    display: none;
}

#view-result .result-content {
    width: 100%;
    height: 100%;
}

.result-container {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    position: relative;
    overflow: hidden;
    padding: 30px;
    text-align: center;
    transition: background 0.5s ease;
}

/* Safe Theme: Calm Blue/Cyan Gradient */
.result-container.safe {
    background: linear-gradient(135deg, #e0f2f1 0%, #b2dfdb 100%);
    /* Lighter, fresher teal/blue */
}

/* Danger Theme: Warn Orange/Red Gradient */
.result-container.danger {
    background: linear-gradient(135deg, #ffebee 0%, #ffcdd2 100%);
    /* Lighter, softer red */
}

.result-content-wrapper {
    position: relative;
    z-index: 10;
    width: 100%;
    max-width: 360px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 24px;
}

/* Large Icon Animation */
.status-icon-large {
    font-size: 5rem;
    color: white;
    /* Keep white icon for "pop" but maybe add colored backing or shadow? */
    /* Actually, let's make it the theme color */
    color: white;
    filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.15));
    animation: popIn 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    margin-bottom: 10px;
}

/* Specific colors for icons based on state */
.safe .status-icon-large {
    color: #009688;
    /* Strong Teal */
}

.danger .status-icon-large {
    color: #e57373;
    /* Soft Red */
}

.status-text-group {
    color: var(--primary);
    /* Dark Text */
    animation: slideUpDelayed 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
}

.status-label {
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 2px;
    opacity: 0.6;
    color: var(--text-sub);
    font-weight: 600;
    display: block;
    margin-bottom: 8px;
}

.status-headline {
    font-family: var(--font-brand);
    font-size: 2.4rem;
    font-weight: 900;
    margin-bottom: 12px;
    line-height: 1.2;
    color: var(--primary);
    text-shadow: none;
}

.status-desc {
    font-size: 1.05rem;
    line-height: 1.6;
    color: var(--text-sub);
    font-weight: 500;
}

/* Glassmorphism Card */
.glass-card {
    background: rgba(255, 255, 255, 0.65);
    /* More opaque for contrast */
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border-radius: 20px;
    border: 1px solid rgba(255, 255, 255, 0.8);
    padding: 24px;
    width: 100%;
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.05);
    display: flex;
    flex-direction: column;
    gap: 16px;
    animation: slideUpDelayed 1s cubic-bezier(0.2, 0.8, 0.2, 1);
}

.data-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.data-label {
    color: var(--text-sub);
    font-size: 0.95rem;
    font-weight: 500;
}

.data-value {
    color: var(--primary);
    font-size: 1.2rem;
    font-weight: 700;
    font-family: var(--font-display);
}

.divider {
    height: 1px;
    background: rgba(0, 0, 0, 0.06);
    width: 100%;
}

/* Action Buttons */
/* Action Buttons */
.action-group {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-top: 10px;
    animation: slideUpDelayed 1.2s cubic-bezier(0.2, 0.8, 0.2, 1);
}

.btn-glass-primary {
    background: var(--primary);
    color: white;
    border: none;
    padding: 16px;
    border-radius: 12px;
    font-size: 1rem;
    font-weight: 700;
    cursor: pointer;
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    transition: transform 0.2s, box-shadow 0.2s;
}

.btn-glass-primary:active {
    transform: scale(0.98);
}

.safe .btn-glass-primary {
    background: #009688;
    /* Teal for safe */
}

.danger .btn-glass-primary {
    background: #e57373;
    /* Red for danger */
}

.btn-glass-secondary {
    background: rgba(255, 255, 255, 0.5);
    color: var(--text-sub);
    border: 1px solid rgba(0, 0, 0, 0.05);
    padding: 16px;
    border-radius: 12px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s;
}

.btn-glass-secondary:active {
    background: rgba(255, 255, 255, 0.8);
}

/* Ambient Particles */
.ambient-circle {
    position: absolute;
    border-radius: 50%;
    background: white;
    opacity: 0.15;
    filter: blur(40px);
    z-index: 1;
    animation: float 6s infinite ease-in-out;
}

.c1 {
    width: 300px;
    height: 300px;
    top: -50px;
    left: -50px;
}

.c2 {
    width: 200px;
    height: 200px;
    bottom: -20px;
    right: -40px;
    animation-delay: 2s;
}

/* Keyframes */
@keyframes popIn {
    0% {
        transform: scale(0) rotate(-45deg);
        opacity: 0;
    }

    60% {
        transform: scale(1.1) rotate(10deg);
        opacity: 1;
    }

    100% {
        transform: scale(1) rotate(0deg);
    }
}

@keyframes slideUpDelayed {
    0% {
        transform: translateY(40px);
        opacity: 0;
    }

    100% {
        transform: translateY(0);
        opacity: 1;
    }
}

@keyframes float {

    0%,
    100% {
        transform: translate(0, 0);
    }

    50% {
        transform: translate(20px, -20px);
    }
}

/* Modern Minimalist Report - Fix Container Issues */

#view-report .app-header {
    display: none;
    /* Hide default header as we have custom modern nav */
}

/* Override report-main styles */
.report-main {
    background: white;
    padding: 0 !important;
    /* Remove conflicting padding */
    display: block !important;
    /* Remove flex centering */
    height: 100vh;
    overflow-y: auto;
    position: relative;
    z-index: 10;
}

/* Hide global bottom nav on report page if desired, or ensure padding-bottom */
#view-report {
    padding-bottom: 0 !important;
    height: 100vh;
    overflow: hidden;
}

/* Hide Scrollbar Global & Specific */
::-webkit-scrollbar {
    width: 0px;
    background: transparent;
    display: none;
}

body {
    -ms-overflow-style: none;
    /* IE and Edge */
    scrollbar-width: none;
    /* Firefox */
}

/* Nav */
.modern-nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 20px;
    background: white;
    /* Clean white nav */
    position: sticky;
    top: 0;
    z-index: 100;
    /* Soft border only when scrolling needed, but let's keep it clean */
}

.nav-title {
    font-family: var(--font-brand);
    /* Emotional Font */
    font-weight: 700;
    font-size: 1.1rem;
    color: var(--primary);
    letter-spacing: -0.02em;
}

.nav-btn {
    background: white;
    border: none;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 1.1rem;
    color: var(--primary);
    cursor: pointer;
    transition: transform 0.2s, background 0.2s;
}

.nav-btn:active {
    transform: scale(0.95);
    background: #f8f9fa;
}

/* Content Container */
.modern-content {
    padding: 0 24px 60px 24px;
    display: flex;
    flex-direction: column;
    gap: 32px;
    /* More natural spacing */
    animation: fadeIn 0.6s ease-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Hero Section */
.modern-hero {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: 8px;
}

.hero-image-container {
    width: 100%;
    display: flex;
    justify-content: center;
    margin-bottom: 24px;
    position: relative;
}

.hero-image-container::after {
    /* Soft ground shadow for floating feeling */
    content: '';
    position: absolute;
    bottom: -10px;
    width: 40%;
    height: 10px;
    background: radial-gradient(ellipse at center, rgba(0, 0, 0, 0.1) 0%, rgba(0, 0, 0, 0) 70%);
}

.modern-img {
    width: 65%;
    max-width: 240px;
    filter: drop-shadow(0 15px 30px rgba(0, 0, 0, 0.08));
    /* Softer shadow */
    transition: transform 0.3s ease;
}

.hero-header {
    width: 100%;
    text-align: left;
}

.header-top {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 6px;
}

.equipment-type {
    font-size: 0.9rem;
    color: var(--text-sub);
    font-family: var(--font-brand);
    /* Emotional font for label */
    font-weight: 600;
}

.status-badge {
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 700;
    letter-spacing: 0.5px;
    font-family: 'Inter', sans-serif;
    /* Keep English status crisp */
}

.equipment-name {
    font-family: var(--font-brand);
    font-size: 2.4rem;
    /* Larger for impact */
    color: var(--primary);
    line-height: 1.1;
    margin: 0;
    letter-spacing: -0.03em;
}

/* Modern Cards - More Natural */
.modern-card {
    background: white;
    /* Removed border radius to make it flow more like a document */
    /* Only subtle separation */
    padding: 0;
    border-radius: 0;
    box-shadow: none;
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.04);
    padding-top: 32px;
}

.modern-card:first-of-type {
    border-top: none;
    padding-top: 0;
}

.card-title {
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--primary);
    margin-bottom: 24px;
    font-family: var(--font-brand);
    /* Emotional font */
}

/* Metrics Row - Natural Flow */
.metrics-row {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
}

.metric-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    flex: 1;
}

.metric-divider {
    width: 1px;
    height: 40px;
    background: rgba(0, 0, 0, 0.06);
    margin-top: 5px;
}

.m-label {
    font-size: 0.85rem;
    color: var(--text-sub);
    margin-bottom: 6px;
    font-family: var(--font-brand);
    /* Emotional font */
    opacity: 0.8;
}

.m-value {
    font-size: 1.6rem;
    font-weight: 600;
    color: var(--primary);
    font-family: 'Inter', sans-serif;
    /* Numbers usually look better in Sans */
    letter-spacing: -0.02em;
}

.unit {
    font-size: 0.9rem;
    font-weight: 500;
    color: var(--text-sub);
    margin-left: 2px;
    font-family: var(--font-brand);
}

/* Rows & Bars */
.modern-row {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-bottom: 24px;
}

.modern-row:last-child {
    margin-bottom: 0;
}

.row-info {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
}

.row-name {
    font-size: 1.05rem;
    font-weight: 600;
    color: var(--primary);
    font-family: var(--font-brand);
}

.row-sub {
    font-size: 0.85rem;
    color: var(--text-sub);
    font-family: var(--font-brand);
}

.stat-bar-bg {
    flex: 1;
    height: 8px;
    /* Slightly thicker for softer look */
    background: #f1f3f5;
    border-radius: 4px;
    overflow: hidden;
}

.stat-bar-fill {
    height: 100%;
    border-radius: 4px;
    transition: width 1s cubic-bezier(0.2, 0.8, 0.2, 1);
}

.stat-text {
    font-size: 0.95rem;
    font-weight: 600;
    font-family: 'Inter', sans-serif;
    width: 40px;
    text-align: right;
}

/* Timeline - Natural */
.modern-timeline-item {
    display: flex;
    gap: 20px;
    margin-bottom: 24px;
    position: relative;
}

.modern-timeline-item:not(:last-child)::before {
    content: '';
    position: absolute;
    left: 4px;
    top: 20px;
    bottom: -16px;
    width: 2px;
    background: rgba(0, 0, 0, 0.05);
    /* Connecting line */
}

.timeline-dot {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    /* Just a dot */
    background: white;
    border: 2px solid var(--text-sub);
    margin-top: 6px;
    flex-shrink: 0;
    z-index: 1;
}

.timeline-data {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.timeline-date {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--primary);
    font-family: var(--font-brand);
}

.timeline-desc {
    font-size: 0.95rem;
    color: var(--text-sub);
    line-height: 1.5;
    font-family: var(--font-brand);
}

/* Action Button */
.btn-modern-action {
    background: black;
    /* Ultra clean */
    color: white;
    border: none;
    width: 100%;
    padding: 20px;
    border-radius: 16px;
    font-size: 1.1rem;
    font-weight: 600;
    font-family: var(--font-brand);
    cursor: pointer;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
    transition: transform 0.2s, box-shadow 0.2s;
    margin-top: 20px;
}

.btn-modern-action:active {
    transform: scale(0.98);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

/* Draggable Bottom Sheet */
.bottom-sheet {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    /* Full width for homepage ratio */
    background: white;
    box-shadow: 0 -5px 30px rgba(0, 0, 0, 0.1);
    border-radius: 24px 24px 0 0;
    z-index: 3000;
    /* Ensure it's above everything including header */

    /* Collapsed state: Show header (approx 210px) plus safe area */
    transform: translateY(calc(100% - 210px - env(safe-area-inset-bottom)));

    padding-bottom: env(safe-area-inset-bottom);
    transition: transform 0.3s cubic-bezier(0.25, 1, 0.5, 1);
    display: flex;
    flex-direction: column;
    height: 98vh;
    /* Maximized height to cover logo */
    will-change: transform;
}

.bottom-sheet.expanded {
    transform: translateY(0);
}

.sheet-handle-wrapper {
    width: 100%;
    height: 30px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: grab;
    flex-shrink: 0;
}

.sheet-handle {
    width: 40px;
    height: 5px;
    background: #e0e0e0;
    border-radius: 100px;
}

.sheet-header {
    display: flex;
    justify-content: space-around;
    align-items: center;
    padding: 10px 24px 30px 24px;
    border-bottom: 1px solid #f0f0f0;
    flex-shrink: 0;
}

.sheet-content {
    flex-grow: 1;
    overflow-y: auto;
    padding: 0;
    /* Remove padding to let sections handle it */
    height: 85vh;
    /* Fixed height for scrolling */
    scroll-snap-type: y mandatory;
    /* Enable snapping */
    scroll-behavior: smooth;
}

.sheet-title {
    font-family: var(--font-brand);
    font-size: 1.1rem;
    margin-bottom: 20px;
    color: var(--text-main);
}

.equipment-list {
    display: flex;
    flex-direction: column;
    gap: 16px;
    padding-bottom: 40px;
    /* Space for bottom nav */
}

.equipment-list-item {
    display: flex;
    align-items: center;
    gap: 16px;
    background: white;
    padding: 12px;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.03);
    cursor: pointer;
}

.list-item-thumb {
    width: 50px;
    height: 50px;
    border-radius: 8px;
    object-fit: cover;
    background: #f5f5f5;
}

.list-item-info {
    flex-grow: 1;
}

.list-item-name {
    font-family: var(--font-display);
    font-weight: 600;
    font-size: 0.95rem;
    color: var(--text-main);
    margin-bottom: 4px;
}

.list-item-type {
    font-size: 0.8rem;
    color: var(--text-sub);
}

.list-item-status {
    font-size: 0.8rem;
    font-weight: 600;
    padding: 4px 8px;
    border-radius: 6px;
}

.list-item-status.safe {
    background: #e3f2fd;
    color: var(--status-safe);
}

.list-item-status.warning {
    background: #fff3e0;
    color: var(--status-warning);
}

.list-item-status.danger {
    background: #ffebee;
    color: var(--status-danger);
}

/* Remove previous banner styles */
.summary-banner {
    display: none;
}

/* Bottom Sheet Branding & Layout Refinements */
.sheet-content {
    background: white;
}

.sheet-top-section {
    text-align: center;
    margin-bottom: 24px;
}

.sheet-main-title {
    font-family: var(--font-display);
    font-size: 1.4rem;
    font-weight: 700;
    color: var(--text-main);
    margin-bottom: 4px;
}

.sheet-sub-title {
    font-family: var(--font-brand);
    font-size: 0.9rem;
    color: var(--text-sub);
}

/* Dashboard Container */
.dashboard-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 24px;
    margin-bottom: 32px;
    padding-bottom: 24px;
    border-bottom: 1px solid #f0f0f0;
}

/* Donut Chart */
/* Inner white circle - REMOVED for Pie Chart */
.donut-chart::after {
    display: none;
}

/* Wrapper to stack Chart and Text */
.donut-chart-wrapper {
    position: relative;
    position: relative;
    width: 260px;
    height: auto;
    /* Allow height to grow for text */
    display: flex;
    flex-direction: column;
    /* Stack chart and text */
    align-items: center;
    gap: 20px;
    margin-top: 20px;
    /* Move down slightly */
}

.donut-chart {
    width: 260px;
    height: 260px;
    border-radius: 50%;
    /* Clockwise direction (default) */
    background: conic-gradient(var(--status-safe) 0% 0%, #eee 0% 100%);
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    /* Soft Emotional Glow */
    box-shadow: 0 10px 40px rgba(93, 156, 236, 0.25),
        inset 0 0 0 15px rgba(255, 255, 255, 0.4);
    border: 1px solid rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(4px);
    flex-shrink: 0;
}

.chart-center-text {
    position: static;
    /* Flow naturally below chart */
    text-align: center;
    display: flex;
    flex-direction: column;
}

.chart-number {
    font-family: 'Outfit', sans-serif;
    /* Clean modern font */
    font-size: 2.2rem;
    font-weight: 700;
    color: var(--text-main);
    line-height: 1;
}

.chart-desc {
    font-size: 1rem;
    color: var(--text-sub);
    margin-top: 4px;
    font-weight: 600;
}

/* Page Layout for Bottom Sheet */
/* Page Layout for Bottom Sheet */
.sheet-section-main {
    height: 100%;
    /* Force full height of container */
    width: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding-bottom: 120px;
    /* Increased to clear bottom nav */
    position: relative;
    scroll-snap-align: start;
    /* Snap point */
    scroll-snap-stop: always;
    /* Force stop */
    overflow: hidden;
    /* Prevent spillover */
}

.sheet-section-details {
    height: 100%;
    /* Full height for second page */
    width: 100%;
    padding: 40px 24px 100px 24px;
    /* Add padding here */
    scroll-snap-align: start;
    /* Snap point */
    scroll-snap-stop: always;
    /* Force stop */
    overflow-y: auto;
    /* Allow internal scrolling if needed */
}

.scroll-hint {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    color: #ccc;
    animation: bounce 2s infinite;
    font-size: 1.2rem;
    opacity: 0.7;
}

@keyframes bounce {

    0%,
    20%,
    50%,
    80%,
    100% {
        transform: translateX(-50%) translateY(0);
    }

    40% {
        transform: translateX(-50%) translateY(-10px);
    }

    60% {
        transform: translateX(-50%) translateY(-5px);
    }
}

/* Reset Banner Margin since we use flex spacing now */
.ai-banner {
    width: 96%;
    max-width: 600px;
    background: white;
    border-radius: 60px;
    padding: 15px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 40px auto 0 auto;
    /* Reduced margin, handled by container */
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
    border: 1px solid #f0f0f0;
}

.ai-banner:active {
    transform: scale(0.98);
}

.ai-banner-left {
    display: flex;
    align-items: center;
    gap: 16px;
    flex-grow: 1;
    /* Allow input to expand */
}

.ai-icon-donut {
    width: 28px;
    /* Slightly reduced */
    height: 28px;
    border-radius: 50%;
    /* Smooth Natural Gradient */
    background: linear-gradient(135deg, #00f2fe 0%, #4facfe 100%);
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-shrink: 0;
}

/* Inner white hole */
.ai-icon-donut::after {
    content: '';
    width: 12px;
    /* Slightly reduced */
    height: 12px;
    background: white;
    border-radius: 50%;
    position: absolute;
}

.ai-input {
    font-family: var(--font-brand);
    font-size: 1.0rem;
    color: var(--text-main);
    border: none;
    outline: none;
    background: transparent;
    width: 100%;
    padding: 0;
    margin: 0;
}

.ai-input::placeholder {
    color: #bbb;
}

.ai-search-icon {
    color: var(--text-main);
    font-size: 1rem;
}

/* Stats Summary Grid */
.stats-summary-grid {
    display: flex;
    justify-content: center;
    gap: 30px;
    width: 100%;
}

.stat-box {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 6px;
}

.stat-label {
    font-size: 0.85rem;
    color: var(--text-sub);
    font-weight: 500;
}

.stat-val {
    font-family: var(--font-brand);
    font-size: 1.2rem;
    font-weight: 700;
}

.stat-val.safe,
.stat-val.warning,
.stat-val.danger {
    color: var(--text-main);
    /* Unified color */
}

/* Clean List Section */
.list-section-title {
    font-size: 1rem;
    font-weight: 700;
    color: var(--text-main);
    margin-bottom: 16px;
    padding-left: 4px;
}

.equipment-list-clean {
    display: flex;
    flex-direction: column;
    gap: 12px;
    padding-bottom: 0;
}

.clean-list-item {
    display: flex;
    flex-direction: column;
    padding: 16px;
    background: #f8f9fa;
    border-radius: 16px;
    cursor: pointer;
    transition: background 0.2s;
}

.clean-list-item:active {
    background: #f0f0f0;
}

.clean-item-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.clean-item-name {
    font-weight: 600;
    font-size: 1rem;
    color: var(--text-main);
}

.clean-item-type {
    font-size: 0.8rem;
    color: var(--text-sub);
    margin-left: 8px;
    font-weight: 400;
}

.clean-item-score {
    font-family: var(--font-brand);
    font-weight: 700;
    font-size: 0.95rem;
}

/* Progress Bar in List */
.clean-item-bar-bg {
    width: 100%;
    height: 6px;
    background: #e0e0e0;
    border-radius: 100px;
    overflow: hidden;
}

.clean-item-bar-fill {
    height: 100%;
    border-radius: 100px;
    transition: width 0.5s ease-out;
}